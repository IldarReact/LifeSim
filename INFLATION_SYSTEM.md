# üìä –°–∏—Å—Ç–µ–º–∞ –ò–Ω—Ñ–ª—è—Ü–∏–∏ –≤ ArtSurv

> **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å —Å –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã–º —Ä–æ—Å—Ç–æ–º —Ü–µ–Ω**

## üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è —Å–∏—Å—Ç–µ–º—ã

–ò–Ω—Ñ–ª—è—Ü–∏—è –≤ ArtSurv —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–π —ç–∫–æ–Ω–æ–º–∏–∫–µ:
- **–¶–µ–Ω—ã –ù–ò–ö–û–ì–î–ê –Ω–µ –ø–∞–¥–∞—é—Ç** (–º–∏–Ω–∏–º—É–º 0.1% —Ä–æ—Å—Ç–∞)
- **–ö—É–º—É–ª—è—Ç–∏–≤–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç** - –∫–∞–∂–¥—ã–π –≥–æ–¥ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π
- **–†–∞–∑–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ç—É—Ç —Å —Ä–∞–∑–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é** (–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –±—ã—Å—Ç—Ä–µ–µ –µ–¥—ã)
- **–ü–ª–∞–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** - –Ω–µ—Ç —Ä–µ–∑–∫–∏—Ö —Å–∫–∞—á–∫–æ–≤, —Ç—Ä–µ–Ω–¥-—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- **–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è 1 —Ä–∞–∑ –≤ –≥–æ–¥** (Q1) - –Ω–µ –∫–∞–∂–¥—ã–π –∫–≤–∞—Ä—Ç–∞–ª

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (5 —Å–ª–æ–µ–≤)

### Layer 1: Data (JSON)
```json
// shared/data/world/countries/us/economy.json
{
  "inflation": 2.5,              // –¢–µ–∫—É—â–∞—è –∏–Ω—Ñ–ª—è—Ü–∏—è (%)
  "inflationHistory": [2.5, 2.3, 2.7],  // –ò—Å—Ç–æ—Ä–∏—è [–Ω–æ–≤—ã–µ ‚Üí —Å—Ç–∞—Ä—ã–µ]
  "keyRate": 4.0                 // –°—Ç–∞–≤–∫–∞ –¶–ë
}

// shared/data/world/countries/us/shop-categories/food.json
{
  "id": "food_burger",
  "price": 5,                    // –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ (–±–µ–∑ –∏–Ω—Ñ–ª—è—Ü–∏–∏)
  "category": "food"
}
```

### Layer 2: Loaders (Zod)
```typescript
// core/lib/data-loaders/economy-loader.ts
export function getCountry(countryId: string): CountryEconomy {
  const data = JSON.parse(fs.readFileSync(`.../${countryId}/economy.json`))
  return EconomySchema.parse(data) // Runtime validation
}
```

### Layer 3: Core Logic (Pure Functions)

#### 3.1 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Ñ–ª—è—Ü–∏–∏
**–§–∞–π–ª:** `core/lib/calculations/inflation-engine.ts`

```typescript
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é –∏–Ω—Ñ–ª—è—Ü–∏—é –Ω–∞ –≥–æ–¥
export function generateYearlyInflation(
  currentInflation: number,
  economy: CountryEconomy
): number {
  // 1. –¢—Ä–µ–Ω–¥-—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (60% –æ—Ç –ø—Ä–æ—à–ª–æ–π –∏–Ω—Ñ–ª—è—Ü–∏–∏)
  // 2. –°—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –º–∏—Ä–æ–≤–æ–º—É —Å—Ä–µ–¥–Ω–µ–º—É (2.5%)
  // 3. –°–ª—É—á–∞–π–Ω–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (¬±30% –æ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω–∞)
  // 4. –í–ª–∏—è–Ω–∏–µ –∫—Ä–∏–∑–∏—Å–æ–≤ (√ó2.5 –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
  
  // –†–µ–∑—É–ª—å—Ç–∞—Ç: –ø–ª–∞–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–µ—Ç —Ä–µ–∑–∫–∏—Ö —Å–∫–∞—á–∫–æ–≤
  // –ü—Ä–∏–º–µ—Ä: 2.5% ‚Üí 2.3-2.8% ‚Üí 2.4-3.0% (–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç)
}
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:**
```typescript
export const INFLATION_SETTINGS = {
  minInflation: 0.1,        // –ú–∏–Ω–∏–º—É–º 0.1% (—Ü–µ–Ω—ã –Ω–µ –ø–∞–¥–∞—é—Ç)
  maxInflation: 20,         // –ú–∞–∫—Å–∏–º—É–º 20% (–≥–∏–ø–µ—Ä–∏–Ω—Ñ–ª—è—Ü–∏—è)
  dampingFactor: 0.6,       // 60% —Ç—Ä–µ–Ω–¥-—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
  volatility: 0.8,          // –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å ¬±0.8
  crisisMultiplier: 2.5     // –ö—Ä–∏–∑–∏—Å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
}
```

#### 3.2 –ö–∞—Ç–µ–≥–æ—Ä–∏–π–Ω—ã–µ –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä—ã
**–†–∞–∑–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Ä–∞—Å—Ç—É—Ç —Å —Ä–∞–∑–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é:**

```typescript
export const INFLATION_MULTIPLIERS = {
  housing: 1.5,      // üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å (+50% –±—ã—Å—Ç—Ä–µ–µ)
  realEstate: 1.5,   // üè¢ –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
  business: 1.3,     // üíº –û—Ç–∫—Ä—ã—Ç–∏–µ –±–∏–∑–Ω–µ—Å–∞ (+30%)
  education: 1.2,    // üìö –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ (+20%)
  health: 1.1,       // üè• –ó–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (+10%)
  transport: 1.0,    // üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (—Å—Ä–µ–¥–Ω–∏–π)
  salaries: 0.95,    // üí∞ –ó–∞—Ä–ø–ª–∞—Ç—ã (-5%, –æ—Ç—Å—Ç–∞—é—Ç)
  services: 0.9,     // üíá –£—Å–ª—É–≥–∏ (-10%)
  food: 0.5,         // üçé –ï–¥–∞ (-50%, —Å–∞–º—ã–π –º–µ–¥–ª–µ–Ω–Ω—ã–π)
  default: 1.0       // üìä –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
}
```

**–ü–æ—á–µ–º—É —Ç–∞–∫?**
- **–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å, —Ä–∞—Å—Ç—ë—Ç –±—ã—Å—Ç—Ä–µ–µ
- **–ï–¥–∞** - –≤—ã—Å–æ–∫–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è, —Ä–∞—Å—Ç—ë—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ
- **–ó–∞—Ä–ø–ª–∞—Ç—ã** - –æ—Ç—Å—Ç–∞—é—Ç –æ—Ç –∏–Ω—Ñ–ª—è—Ü–∏–∏ (–∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏)

#### 3.3 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–ª—è—Ü–∏–∏ –∫ —Ü–µ–Ω–∞–º
**–§–∞–π–ª:** `core/lib/calculations/price-helpers.ts`

```typescript
// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
export function getInflatedPrice(
  basePrice: number,
  economy: CountryEconomy,
  category: PriceCategory = 'default'
): number {
  // 1. –ë–µ—Ä—ë–º –∏—Å—Ç–æ—Ä–∏—é –∏–Ω—Ñ–ª—è—Ü–∏–∏ [2.5, 2.3, 2.7]
  // 2. –†–µ–≤–µ—Ä—Å–∏—Ä—É–µ–º –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ [2.7, 2.3, 2.5]
  // 3. –ü—Ä–∏–º–µ–Ω—è–µ–º –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ —Å –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  
  const multiplier = getCumulativeInflationMultiplier(history, category)
  return Math.round(basePrice * multiplier)
}
```

**–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á—ë—Ç–∞:**
```typescript
// –ñ–∏–ª—å—ë –∑–∞ $100,000
// –ò—Å—Ç–æ—Ä–∏—è –∏–Ω—Ñ–ª—è—Ü–∏–∏: [2.5%, 2.7%, 3.0%] (3 –≥–æ–¥–∞)
// –ö–∞—Ç–µ–≥–æ—Ä–∏—è: housing (multiplier 1.5)

// –ì–æ–¥ 1: $100,000 √ó (1 + 2.5% √ó 1.5) = $103,750
// –ì–æ–¥ 2: $103,750 √ó (1 + 2.7% √ó 1.5) = $107,956
// –ì–æ–¥ 3: $107,956 √ó (1 + 3.0% √ó 1.5) = $112,818

// –ò—Ç–æ–≥–æ: +12.8% –∑–∞ 3 –≥–æ–¥–∞ (–∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç)
```

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```typescript
getInflatedHousingPrice(price, economy)     // housing (√ó1.5)
getInflatedEducationPrice(price, economy)   // education (√ó1.2)
getInflatedShopPrice(price, economy, 'food') // food (√ó0.5)
getInflatedBaseSalary(salary, economy)      // salaries (√ó0.95)
```

### Layer 4: State Management (Zustand)

#### 4.1 –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ñ–ª—è—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ Q1)
**–§–∞–π–ª:** `core/model/logic/turns/inflation-processor.ts`

```typescript
export function processInflation(
  countries: Record<string, CountryEconomy>,
  playerCountryId: string,
  newTurn: number,
  newYear: number
) {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞: —Ç–æ–ª—å–∫–æ Q1 (turn % 4 === 1)
  if (!shouldApplyInflationThisTurn(newTurn)) {
    return { updatedCountries: countries, inflationNotification: null }
  }
  
  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π –∏–Ω—Ñ–ª—è—Ü–∏–∏
  const newInflation = generateYearlyInflation(country.inflation, country)
  const newKeyRate = calculateKeyRate(newInflation, country.keyRate)
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ (—Ö—Ä–∞–Ω–∏–º –¥–æ 10 –ª–µ—Ç)
  const newHistory = [newInflation, ...country.inflationHistory.slice(0, 9)]
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  updatedCountries[playerCountryId] = {
    ...country,
    inflation: newInflation,
    keyRate: newKeyRate,
    inflationHistory: newHistory
  }
  
  // –°–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –∏–≥—Ä–æ–∫–∞
  return { updatedCountries, inflationNotification, notification }
}
```

**–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:**
```typescript
// Turn 1 (Q1 Year 1) ‚Üí –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è ‚úÖ
// Turn 2 (Q2 Year 1) ‚Üí –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è ‚ùå
// Turn 3 (Q3 Year 1) ‚Üí –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è ‚ùå
// Turn 4 (Q4 Year 1) ‚Üí –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è ‚ùå
// Turn 5 (Q1 Year 2) ‚Üí –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è ‚úÖ
```

#### 4.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```typescript
interface GameState {
  countries: {
    [countryId: string]: {
      inflation: number           // –¢–µ–∫—É—â–∞—è –∏–Ω—Ñ–ª—è—Ü–∏—è (2.5%)
      inflationHistory: number[]  // [2.5, 2.3, 2.7, ...] (–¥–æ 10 –ª–µ—Ç)
      keyRate: number             // –°—Ç–∞–≤–∫–∞ –¶–ë (4.0%)
    }
  }
}
```

### Layer 5: UI Components (React)

#### 5.1 UI Hook (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ)
**–§–∞–π–ª:** `core/hooks/useInflation.ts`

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–Ω—Ñ–ª—è—Ü–∏—é
export function useInflatedPrice(item: PriceableItem): number {
  const economy = useGameStore(state => 
    state.countries[state.player.countryId]
  )
  
  return useMemo(() => {
    // –ó–∞—Ä–ø–ª–∞—Ç–∞
    if ('salary' in item) {
      return economy ? getInflatedBaseSalary(item.salary, economy) : item.salary
    }
    
    // –¢–æ–≤–∞—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    switch (item.category) {
      case 'housing': return getInflatedHousingPrice(item.price, economy)
      case 'food': return getInflatedShopPrice(item.price, economy, 'food')
      case 'education': return getInflatedEducationPrice(item.price, economy)
      default: return getInflatedPrice(item.price, economy)
    }
  }, [item, economy])
}

// –î–ª—è –º–∞—Å—Å–∏–≤–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤
export function useInflatedPrices<T>(items: T[]): Array<T & { inflatedPrice: number }>
```

#### 5.2 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
```tsx
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π —Ö—É–∫
function ShopItemCard({ item }: Props) {
  const displayPrice = useInflatedPrice(item)
  
  return <span>${displayPrice.toLocaleString()}</span>
}

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –î–ª—è –∑–∞—Ä–ø–ª–∞—Ç
function CandidateCard({ candidate }: Props) {
  const displaySalary = useInflatedPrice({ salary: candidate.requestedSalary })
  
  return <span>${displaySalary.toLocaleString()}/–º–µ—Å</span>
}

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –î–ª—è —Å–ø–∏—Å–∫–æ–≤
function JobsList({ jobs }: Props) {
  const jobsWithInflation = useInflatedPrices(jobs)
  
  return jobsWithInflation.map(job => (
    <div key={job.id}>${job.inflatedPrice}</div>
  ))
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω—ã
function ShopItemCard({ item }: Props) {
  return <span>${item.price}</span> // –ë–µ–∑ –∏–Ω—Ñ–ª—è—Ü–∏–∏!
}
```

#### 5.3 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏–Ω—Ñ–ª—è—Ü–∏–∏
**–§–∞–π–ª:** `features/notifications/inflation-notification.tsx`

```tsx
// –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–≥—Ä–æ–∫—É –≤ Q1 –∫–∞–∂–¥–æ–≥–æ –≥–æ–¥–∞
function InflationNotification({ data }: Props) {
  return (
    <div>
      <h3>üìä –≠–∫–æ–Ω–æ–º–∏–∫–∞: –ò–Ω—Ñ–ª—è—Ü–∏—è –≤ {data.countryName}</h3>
      <p>
        üìà –ò–Ω—Ñ–ª—è—Ü–∏—è: {data.inflationRate}% 
        ({data.inflationChange > 0 ? '+' : ''}{data.inflationChange}%)
      </p>
      <p>
        ‚¨ÜÔ∏è –°—Ç–∞–≤–∫–∞ –¶–ë: {data.keyRate}% 
        ({data.keyRateChange > 0 ? '+' : ''}{data.keyRateChange}%)
      </p>
    </div>
  )
}
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### –ü—Ä–∏–º–µ—Ä 1: –†–æ—Å—Ç —Ü–µ–Ω –Ω–∞ –∂–∏–ª—å—ë
```
–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã: $100,000

–ì–æ–¥ 1 (–∏–Ω—Ñ–ª—è—Ü–∏—è 2.5%):
  $100,000 √ó (1 + 2.5% √ó 1.5) = $103,750

–ì–æ–¥ 2 (–∏–Ω—Ñ–ª—è—Ü–∏—è 2.7%):
  $103,750 √ó (1 + 2.7% √ó 1.5) = $107,956

–ì–æ–¥ 3 (–∏–Ω—Ñ–ª—è—Ü–∏—è 3.0%):
  $107,956 √ó (1 + 3.0% √ó 1.5) = $112,818

–ì–æ–¥ 4 (–∏–Ω—Ñ–ª—è—Ü–∏—è 2.8%):
  $112,818 √ó (1 + 2.8% √ó 1.5) = $117,558

–ò—Ç–æ–≥–æ –∑–∞ 4 –≥–æ–¥–∞: +17.6% (–∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç)
```

### –ü—Ä–∏–º–µ—Ä 2: –†–æ—Å—Ç —Ü–µ–Ω –Ω–∞ –µ–¥—É
```
–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –±—É—Ä–≥–µ—Ä–∞: $5

–ì–æ–¥ 1 (–∏–Ω—Ñ–ª—è—Ü–∏—è 2.5%):
  $5 √ó (1 + 2.5% √ó 0.5) = $5.06

–ì–æ–¥ 2 (–∏–Ω—Ñ–ª—è—Ü–∏—è 2.7%):
  $5.06 √ó (1 + 2.7% √ó 0.5) = $5.13

–ì–æ–¥ 3 (–∏–Ω—Ñ–ª—è—Ü–∏—è 3.0%):
  $5.13 √ó (1 + 3.0% √ó 0.5) = $5.21

–ì–æ–¥ 4 (–∏–Ω—Ñ–ª—è—Ü–∏—è 2.8%):
  $5.21 √ó (1 + 2.8% √ó 0.5) = $5.28

–ò—Ç–æ–≥–æ –∑–∞ 4 –≥–æ–¥–∞: +5.6% (–º–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç)
```

### –ü—Ä–∏–º–µ—Ä 3: –ó–∞—Ä–ø–ª–∞—Ç—ã –æ—Ç—Å—Ç–∞—é—Ç –æ—Ç –∏–Ω—Ñ–ª—è—Ü–∏–∏
```
–ë–∞–∑–æ–≤–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞: $5,000/–º–µ—Å

–ì–æ–¥ 1 (–∏–Ω—Ñ–ª—è—Ü–∏—è 2.5%):
  $5,000 √ó (1 + 2.5% √ó 0.95) = $5,119

–ì–æ–¥ 2 (–∏–Ω—Ñ–ª—è—Ü–∏—è 2.7%):
  $5,119 √ó (1 + 2.7% √ó 0.95) = $5,250

–ì–æ–¥ 3 (–∏–Ω—Ñ–ª—è—Ü–∏—è 3.0%):
  $5,250 √ó (1 + 3.0% √ó 0.95) = $5,399

–ò—Ç–æ–≥–æ –∑–∞ 3 –≥–æ–¥–∞: +8.0% (–æ—Ç—Å—Ç–∞—ë—Ç –æ—Ç –∏–Ω—Ñ–ª—è—Ü–∏–∏ 8.2%)
```

---

## üîÑ –ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. Q1 –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è (turn % 4 === 1)
   ‚Üì
2. inflation-processor.ts –≤—ã–∑—ã–≤–∞–µ—Ç generateYearlyInflation()
   ‚Üì
3. –ù–æ–≤–∞—è –∏–Ω—Ñ–ª—è—Ü–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è:
   - –¢—Ä–µ–Ω–¥-—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (60% –æ—Ç –ø—Ä–æ—à–ª–æ–π)
   - –°—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –º–∏—Ä–æ–≤–æ–º—É —Å—Ä–µ–¥–Ω–µ–º—É (2.5%)
   - –°–ª—É—á–∞–π–Ω–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (¬±30%)
   - –í–ª–∏—è–Ω–∏–µ –∫—Ä–∏–∑–∏—Å–æ–≤ (√ó2.5)
   ‚Üì
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
   - countries[id].inflation = 2.7%
   - countries[id].inflationHistory = [2.7, 2.5, 2.3, ...]
   ‚Üì
5. –°–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –∏–≥—Ä–æ–∫–∞
   ‚Üì
6. UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç useInflatedPrice()
   ‚Üì
7. getInflatedPrice() –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∫—É–º—É–ª—è—Ç–∏–≤–Ω—É—é –∏–Ω—Ñ–ª—è—Ü–∏—é:
   - –ë–µ—Ä—ë—Ç –∏—Å—Ç–æ—Ä–∏—é [2.7, 2.5, 2.3]
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Ü–µ–Ω—É
   ‚Üì
8. –ò–≥—Ä–æ–∫ –≤–∏–¥–∏—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ü–µ–Ω—ã
```

---

## ‚úÖ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:

1. **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π `useInflatedPrice()` –≤ UI**
   ```tsx
   // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
   const price = useInflatedPrice(item)
   
   // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
   const price = item.price
   ```

2. **–ù–ï –ø—Ä–∏–º–µ–Ω—è–π –∏–Ω—Ñ–ª—è—Ü–∏—é –≤—Ä—É—á–Ω—É—é**
   ```typescript
   // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
   const price = item.price * (1 + inflation / 100)
   
   // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
   const price = getInflatedPrice(item.price, economy, 'housing')
   ```

3. **–ò–Ω—Ñ–ª—è—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –≤ Q1**
   ```typescript
   // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
   if (shouldApplyInflationThisTurn(turn)) {
     processInflation(...)
   }
   
   // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
   processInflation(...) // –ö–∞–∂–¥—ã–π —Ö–æ–¥
   ```

4. **–ò—Å—Ç–æ—Ä–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**
   ```typescript
   // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
   inflationHistory = [current, year-1, year-2, ...]
   
   // –ü—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ - —Ä–µ–≤–µ—Ä—Å–∏—Ä—É–µ–º
   const chronological = [...history].reverse()
   ```

5. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–æ—Å—Ç–∞**
   ```typescript
   // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
   getInflatedPrice(price, economy, 'housing')  // √ó1.5
   getInflatedPrice(price, economy, 'food')     // √ó0.5
   
   // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
   getInflatedPrice(price, economy) // default √ó1.0 (–Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é)
   ```

### –î–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏:

1. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–ª—è—Ü–∏–∏** ‚Üí `economy.json`
2. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–æ—Å—Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π** ‚Üí `INFLATION_MULTIPLIERS`
3. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏** ‚Üí `INFLATION_SETTINGS`
4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏–∑–∏—Å–æ–≤** ‚Üí –≤–ª–∏—è–µ—Ç —á–µ—Ä–µ–∑ `activeEvents`

---

## üéÆ –ò–≥—Ä–æ–≤–æ–π —ç—Ñ—Ñ–µ–∫—Ç

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞ (1-2 –≥–æ–¥–∞):
- –¶–µ–Ω—ã —Ä–∞—Å—Ç—É—Ç –º–µ–¥–ª–µ–Ω–Ω–æ (+2-3% –≤ –≥–æ–¥)
- –ò–≥—Ä–æ–∫ –ø–æ—á—Ç–∏ –Ω–µ –∑–∞–º–µ—á–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ó–∞—Ä–ø–ª–∞—Ç—ã –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è (70-90% –æ—Ç –∏–Ω—Ñ–ª—è—Ü–∏–∏)

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–∞—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞ (3-5 –ª–µ—Ç):
- –ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–∞–º–µ—Ç–Ω—ã–º (+10-15%)
- –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –¥–æ—Ä–æ–∂–∞–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ (+20-30%)
- –ï–¥–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ–π (+5-10%)

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞ (10+ –ª–µ—Ç):
- –ö—É–º—É–ª—è—Ç–∏–≤–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –∫—Ä–∏—Ç–∏—á–µ–Ω (+30-50%)
- –†–∞–Ω–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –æ–∫—É–ø–∞—é—Ç—Å—è
- –ó–∞—Ä–ø–ª–∞—Ç—ã –æ—Ç—Å—Ç–∞—é—Ç –æ—Ç —Ä–æ—Å—Ç–∞ —Ü–µ–Ω
- –í–∞–∂–Ω–æ—Å—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã:
```
core/lib/calculations/
  inflation-engine.ts          ‚Üê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Ñ–ª—è—Ü–∏–∏
  price-helpers.ts             ‚Üê –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ —Ü–µ–Ω–∞–º

core/model/logic/turns/
  inflation-processor.ts       ‚Üê –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ Q1

core/hooks/
  useInflation.ts              ‚Üê UI —Ö—É–∫–∏

features/notifications/
  inflation-notification.tsx   ‚Üê –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫—É
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- **Zod** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —ç–∫–æ–Ω–æ–º–∏–∫–∏
- **Zustand** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **React** - UI —Ö—É–∫–∏ (useMemo)

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–Ω—Ñ–ª—è—Ü–∏–∏
const newInflation = generateYearlyInflation(2.5, economy)
expect(newInflation).toBeGreaterThanOrEqual(0.1)
expect(newInflation).toBeLessThanOrEqual(20)

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫ —Ü–µ–Ω–∞–º
const inflatedPrice = getInflatedPrice(100, economy, 'housing')
expect(inflatedPrice).toBeGreaterThan(100) // –¶–µ–Ω—ã —Ä–∞—Å—Ç—É—Ç
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2024-12-05  
**–í–µ—Ä—Å–∏—è**: 1.0  
**–°—Ç–∞—Ç—É—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
