# ğŸ›¡ï¸ Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¹ LifeSim

## ĞĞ±Ğ·Ğ¾Ñ€

Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¹ LifeSim Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ **zod + superjson + HMAC-SHA256 + Ğ²ĞµÑ€ÑĞ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ** Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ½ĞµÑƒĞ±Ğ¸Ğ²Ğ°ĞµĞ¼Ğ¾Ğ¹ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹ Ğ¾Ñ‚:
- âŒ Ğ‘Ğ¸Ñ‚Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (NaN, Infinity, undefined)
- âŒ Ğ§Ğ¸Ñ‚ĞµÑ€ÑÑ‚Ğ²Ğ° Ñ‡ĞµÑ€ĞµĞ· DevTools
- âŒ ĞĞµÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸ÑÑ…
- âŒ ĞŸĞ¾Ñ‚ĞµÑ€Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹

---

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Zustand Store                         â”‚
â”‚                    (core/model/store.ts)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Save Manager                            â”‚
â”‚              (core/lib/persistence/save-manager.ts)          â”‚
â”‚                                                              â”‚
â”‚  1. Zod Validation (ÑÑ…ĞµĞ¼Ñ‹)                                   â”‚
â”‚  2. SuperJSON Serialization (Date, Set, Map, BigInt)         â”‚
â”‚  3. HMAC-SHA256 Checksum (Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¿Ğ¾Ğ´Ğ´ĞµĞ»ĞºĞ¸)                â”‚
â”‚  4. Versioning + Migrations (ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    localStorage
```

---

## ğŸ“‹ ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### 1. **Zod Schemas** (`core/schemas/game.schema.ts`)

Ğ¡Ñ‚Ñ€Ğ¾Ğ³Ğ¸Ğµ ÑÑ…ĞµĞ¼Ñ‹ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ñ‚Ğ¸Ğ¿Ğ¾Ğ² Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:

```typescript
export const StatsSchema = z.object({
  money: z.number().finite().min(0),
  happiness: z.number().finite().min(0).max(100),
  energy: z.number().finite().min(0).max(100),
  // ...
}).strict()
```

**Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ°:**
- âœ… `.finite()` â€” Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ NaN Ğ¸ Infinity
- âœ… `.min()` / `.max()` â€” Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ñ‹
- âœ… `.int()` â€” Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ñ†ĞµĞ»Ñ‹Ğµ Ñ‡Ğ¸ÑĞ»Ğ°
- âœ… `.strict()` â€” Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰Ğ°ĞµÑ‚ Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ

### 2. **SuperJSON** (ÑĞµÑ€Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ)

Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ JSON Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚:

```typescript
// Ğ”Ğ¾ SuperJSON
const state = {
  lastSaved: new Date(),
  tags: new Set(['rich', 'happy']),
  capital: 1000000000000n
}

JSON.stringify(state)
// âŒ lastSaved â†’ ÑÑ‚Ñ€Ğ¾ĞºĞ°
// âŒ tags â†’ {}
// âŒ capital â†’ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°

// Ğ¡ SuperJSON
superjson.stringify(state)
// âœ… lastSaved â†’ Date
// âœ… tags â†’ Set
// âœ… capital â†’ BigInt
```

### 3. **HMAC-SHA256 Checksum** (Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¿Ğ¾Ğ´Ğ´ĞµĞ»ĞºĞ¸)

```typescript
// Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ checksum
const checksum = CryptoJS.HmacSHA256(data, SECRET_KEY).toString()

// ĞŸÑ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ
if (currentChecksum !== saveData.checksum) {
  throw new Error('ğŸš¨ SAVE FILE CORRUPTED OR MODIFIED')
}
```

**Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾ Ğ´Ğ°Ñ‘Ñ‚:**
- âœ… Ğ›ÑĞ±Ğ¾Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ² DevTools â†’ ÑĞµĞ¹Ğ² Ğ½Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑÑ
- âœ… ĞšÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑÑ‚Ğ¾Ğ¹ĞºĞ°Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° (Ğ² Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ adler32)
- âœ… Ğ¡ĞµĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ĞºĞ»ÑÑ‡ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ²Ñ‹Ğ½ĞµÑÑ‚Ğ¸ Ğ² `.env`

### 4. **Versioning + Migrations** (`core/lib/persistence/migrations.ts`)

```typescript
const migrations: Record<number, MigrationFn> = {
  2: (state) => {
    return {
      ...state,
      newFeature: { enabled: false, value: 0 }
    }
  }
}
```

**ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:**
1. Ğ¢Ñ‹ Ğ¼ĞµĞ½ÑĞµÑˆÑŒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑˆÑŒ Ğ¿Ğ¾Ğ»Ğµ)
2. Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ²Ğ°ĞµÑˆÑŒ `CURRENT_VERSION` Ğ² `save-manager.ts`
3. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑˆÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² `migrations.ts`
4. Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğµ ÑĞµĞ¹Ğ²Ñ‹ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑÑÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ

---

## ğŸš€ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ

```typescript
import { saveManager } from '@/core/lib/persistence/save-manager'

// ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ñ‡ĞµÑ€ĞµĞ· Zustand (Ğ¿Ñ€Ğ¸ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸)
useGameStore.setState({ money: 1000 })

// Ğ˜Ğ»Ğ¸ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ
saveManager.save(gameState)
```

### Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°

```typescript
const state = await saveManager.load()
if (!state) {
  console.log('ĞĞµÑ‚ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¹')
}
```

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ñ

```typescript
if (saveManager.hasSave()) {
  console.log('Ğ•ÑÑ‚ÑŒ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ')
}
```

### ĞÑ‡Ğ¸ÑÑ‚ĞºĞ°

```typescript
saveManager.clear()
```

---

## ğŸ”’ Ğ ĞµĞ¶Ğ¸Ğ¼Ñ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

### Development Mode (`NODE_ENV !== 'production'`)

- âš ï¸ ĞÑˆĞ¸Ğ±ĞºĞ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ â†’ Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ñ
- âš ï¸ Checksum mismatch â†’ Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ, Ğ½Ğ¾ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ÑÑ
- ğŸ¯ Ğ£Ğ´Ğ¾Ğ±Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸

### Production Mode (`NODE_ENV === 'production'`)

- âŒ ĞÑˆĞ¸Ğ±ĞºĞ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ â†’ ÑĞµĞ¹Ğ² Ğ½Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ
- âŒ Checksum mismatch â†’ ÑĞµĞ¹Ğ² Ğ½Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ÑÑ
- ğŸ›¡ï¸ ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°

---

## ğŸ“ ĞšĞ°Ğº Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ

### Ğ¨Ğ°Ğ³ 1: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑÑ…ĞµĞ¼Ñƒ

```typescript
// core/schemas/game.schema.ts
export const PlayerStateSchema = z.object({
  // ... ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ğ¿Ğ¾Ğ»Ñ
  newField: z.string().default('default value')
}).strict()
```

### Ğ¨Ğ°Ğ³ 2: Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ Ğ²ĞµÑ€ÑĞ¸Ñ

```typescript
// core/lib/persistence/save-manager.ts
const CURRENT_VERSION = 2 // Ğ±Ñ‹Ğ»Ğ¾ 1
```

### Ğ¨Ğ°Ğ³ 3: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ

```typescript
// core/lib/persistence/migrations.ts
const migrations: Record<number, MigrationFn> = {
  2: (state) => {
    return {
      ...state,
      player: state.player ? {
        ...state.player,
        newField: 'default value'
      } : null
    }
  }
}
```

### Ğ¨Ğ°Ğ³ 4: Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!

Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğµ ÑĞµĞ¹Ğ²Ñ‹ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²ÑÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ.

---

## ğŸ› ĞÑ‚Ğ»Ğ°Ğ´ĞºĞ°

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: "Save validation failed"

```typescript
// Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ğ¸ Ğ² ĞºĞ¾Ğ½ÑĞ¾Ğ»ÑŒ, ĞºĞ°ĞºĞ¸Ğµ Ğ¿Ğ¾Ğ»Ñ Ğ½Ğµ Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
console.error('âŒ Save validation failed:', validation.error.errors)
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ, Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ Ñ‡Ğ¸ÑĞ»Ğ¾Ğ²Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ â€” ĞºĞ¾Ğ½ĞµÑ‡Ğ½Ñ‹Ğµ Ñ‡Ğ¸ÑĞ»Ğ°
2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ñ‹ (0-100 Ğ´Ğ»Ñ stats)
3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ, Ñ‡Ñ‚Ğ¾ Ğ½ĞµÑ‚ `undefined` Ğ² Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑÑ…

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: "Checksum mismatch"

```typescript
console.error('ğŸš¨ SAVE FILE CORRUPTED OR MODIFIED')
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
1. Ğ•ÑĞ»Ğ¸ Ğ² dev mode â€” Ğ¸Ğ³Ğ½Ğ¾Ñ€Ğ¸Ñ€ÑƒĞ¹ (ÑÑ‚Ğ¾ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ ĞºĞ¾Ğ´Ğ°)
2. Ğ•ÑĞ»Ğ¸ Ğ² production â€” ÑĞµĞ¹Ğ² Ğ±Ñ‹Ğ» Ğ¸Ğ·Ğ¼ĞµĞ½Ñ‘Ğ½ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ
3. ĞÑ‡Ğ¸ÑÑ‚Ğ¸ localStorage Ğ¸ Ğ½Ğ°Ñ‡Ğ½Ğ¸ Ğ½Ğ¾Ğ²ÑƒÑ Ğ¸Ğ³Ñ€Ñƒ

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: "Save version mismatch"

```typescript
console.warn('âš ï¸ Save version mismatch: 1 vs 2')
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
1. ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
2. Ğ•ÑĞ»Ğ¸ Ğ½ĞµÑ‚ â€” Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒ, Ñ‡Ñ‚Ğ¾ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ² `migrations.ts`

---

## ğŸ¯ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ±Ğ°Ğ³Ğ¾Ğ², ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ½ĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹

| Ğ‘Ğ°Ğ³ | Ğ”Ğ¾ | ĞŸĞ¾ÑĞ»Ğµ |
|-----|-----|-------|
| `money: Infinity` | âœ… Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞ»Ğ¾ÑÑŒ | âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ |
| `health: -50` | âœ… Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞ»Ğ¾ÑÑŒ | âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ |
| `lastSaved: "2024-01-01"` | âœ… Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ° Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Date | âœ… ĞĞ°ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğ¹ Date |
| Ğ§Ğ¸Ñ‚ĞµÑ€ÑÑ‚Ğ²Ğ¾ Ñ‡ĞµÑ€ĞµĞ· DevTools | âœ… Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ»Ğ¾ | âŒ Checksum mismatch |
| Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğ¹ ÑĞµĞ¹Ğ² Ğ±ĞµĞ· Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ»Ñ | âŒ ĞšÑ€Ğ°Ñˆ | âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ |

---

## ğŸ” Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### Secret Key

ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ `lifesim-default-secret-key-change-in-production`.

**Ğ’ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞµĞ½Ğµ:**

```env
# .env.local
NEXT_PUBLIC_SAVE_SECRET=your-super-secret-key-here
```

âš ï¸ **Ğ’Ğ°Ğ¶Ğ½Ğ¾:** ĞĞµ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚ÑŒ ÑĞµĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ĞºĞ»ÑÑ‡ Ğ² git!

---

## ğŸ“Š ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

- âœ… SuperJSON Ğ±Ñ‹ÑÑ‚Ñ€ĞµĞµ, Ñ‡ĞµĞ¼ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ JSON
- âœ… HMAC-SHA256 Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ÑĞµÑ‚ÑÑ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾
- âœ… Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¸/Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ
- âœ… ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ Ğ½ĞµÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğ¸ Ğ²ĞµÑ€ÑĞ¸Ğ¹

---

## ğŸ“ Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹

- [Zod Documentation](https://zod.dev/)
- [SuperJSON](https://github.com/blitz-js/superjson)
- [CryptoJS](https://cryptojs.gitbook.io/docs/)
- [Zustand Persist](https://docs.pmnd.rs/zustand/integrations/persisting-store-data)

---

## âœ… Ğ§ĞµĞºĞ»Ğ¸ÑÑ‚ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²

- [ ] Ğ’ÑĞµ Ñ‡Ğ¸ÑĞ»Ğ¾Ğ²Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ Ğ¸Ğ¼ĞµÑÑ‚ `.finite()`
- [ ] Stats Ğ¸Ğ¼ĞµÑÑ‚ `.min(0).max(100)`
- [ ] Ğ”ĞµĞ½ÑŒĞ³Ğ¸ Ğ¸Ğ¼ĞµÑÑ‚ `.min(0)`
- [ ] ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚Ñ‹ Ğ¸Ğ¼ĞµÑÑ‚ `.min(0).max(100)`
- [ ] Ğ¡Ñ€Ğ¾ĞºĞ¸ Ğ¸Ğ¼ĞµÑÑ‚ `.int().min(0)`
- [ ] ĞŸÑ€Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸ Ğ¿Ğ¾Ğ»Ñ â€” ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ° Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ
- [ ] ĞŸÑ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ â€” ÑƒĞ²ĞµĞ»Ğ¸Ñ‡ĞµĞ½Ğ° Ğ²ĞµÑ€ÑĞ¸Ñ
- [ ] Ğ¡ĞµĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ĞºĞ»ÑÑ‡ Ğ²Ñ‹Ğ½ĞµÑĞµĞ½ Ğ² `.env` (production)

---

**Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ñ‚Ğ²Ğ¾Ğ¹ LifeSim Ğ½ĞµÑƒĞ±Ğ¸Ğ²Ğ°ĞµĞ¼! ğŸ‰**
